(this["webpackJsonpsquid-note-app"]=this["webpackJsonpsquid-note-app"]||[]).push([[0],{49:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(22),r=c.n(a),s=c(9),i=c(2),l=c(4),j=c.n(l),o=c(7),u=c(3),b=c(23),d=c.n(b).a.create({baseURL:"http://localhost:3006/api/v1/events"}),x=c(24),O=c(0),h=Object(n.createContext)(),p=function(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),i=Object(u.a)(s,2),l=i[0],j=i[1];return Object(O.jsx)(h.Provider,{value:{events:a,setEvents:r,addEvents:function(e){r([].concat(Object(x.a)(a),[e]))},selectedEvent:l,setSelectedEvent:j},children:e.children})},v=function(){var e=Object(n.useContext)(h).addEvents,t=Object(n.useState)(""),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),l=i[0],b=i[1],x=Object(n.useState)("Price Range"),p=Object(u.a)(x,2),v=p[0],m=p[1],f=function(){var t=Object(o.a)(j.a.mark((function t(c){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,d.post("/",{name:a,location:l,price_range:v});case 4:n=t.sent,e(n.data.data.event),console.log(n),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mb-4",children:Object(O.jsx)("form",{action:"",children:Object(O.jsxs)("div",{className:"form-row",children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:a,onChange:function(e){return r(e.target.value)},type:"text",className:"form-control",placeholder:"Name"})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:l,onChange:function(e){return b(e.target.value)},className:"form-control",type:"text",placeholder:"Location"})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)("select",{value:v,onChange:function(e){return m(e.target.value)},className:"custom-select my-1 mr-sm-2",children:[Object(O.jsx)("option",{disabled:!0,children:"Price Range"}),Object(O.jsx)("option",{value:"1",children:"$"}),Object(O.jsx)("option",{value:"2",children:"$$"}),Object(O.jsx)("option",{value:"3",children:"$$$"}),Object(O.jsx)("option",{value:"4",children:"$$$$"}),Object(O.jsx)("option",{value:"5",children:"$$$$$"})]})}),Object(O.jsx)("button",{onClick:f,type:"submit",className:"btn btn-primary",children:"Add"})]})})})},m=function(e){for(var t=e.rating,c=[],n=1;n<=5;n++)n<=t?c.push(Object(O.jsx)("i",{className:"fas fa-star"},n)):n!==Math.ceil(t)||Number.isInteger(t)?c.push(Object(O.jsx)("i",{className:"far fa-star"},n)):c.push(Object(O.jsx)("i",{className:"fas fa-star-half-alt"},n));return Object(O.jsx)(O.Fragment,{children:c})},f=function(e){var t=Object(n.useContext)(h),c=t.events,a=t.setEvents,r=Object(i.f)();Object(n.useEffect)((function(){(function(){var e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/");case 3:t=e.sent,a(t.data.data.events),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(){var e=Object(o.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.prev=1,e.next=4,d.delete("/".concat(n));case 4:e.sent,a(c.filter((function(e){return e.id!==n}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),l=function(e){return e.count?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m,{rating:e.id}),Object(O.jsx)("span",{className:"text-warning ml-1",children:e.count})]}):Object(O.jsx)("span",{className:"text-warning",children:"0 reviews"})};return Object(O.jsx)("div",{className:"list-group",children:Object(O.jsxs)("table",{className:"table table-hover table-dark",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-primary",children:[Object(O.jsx)("th",{scope:"col",children:"Events"}),Object(O.jsx)("th",{scope:"col",children:"Location"}),Object(O.jsx)("th",{scope:"col",children:"Price Range"}),Object(O.jsx)("th",{scope:"col",children:"Ratings"}),Object(O.jsx)("th",{scope:"col",children:"Edit"}),Object(O.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(O.jsxs)("tbody",{children:[c&&c.map((function(e){return Object(O.jsxs)("tr",{onClick:function(){return t=e.id,void r("/events/".concat(t));var t},children:[Object(O.jsx)("td",{className:"text-capitalize",children:e.name}),Object(O.jsx)("td",{className:"text-capitalize",children:e.location}),Object(O.jsx)("td",{children:"$".repeat(e.price_range)}),Object(O.jsx)("td",{children:l(e)}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(t){return function(e,t){e.stopPropagation(),r("/events/".concat(t,"/update"))}(t,e.id)},className:"btn btn-warning",children:"Update"})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(t){return s(t,e.id)},className:"btn btn-danger",children:"Delete"})})]},e.id)})),";"]})]})})},g=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{className:"font-weight-light display-1 text-center",children:"Squid Note"})})},N=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(g,{}),Object(O.jsx)(v,{}),Object(O.jsx)(f,{})]})},w=function(e){var t=Object(i.g)().id,c=Object(i.f)(),a=(Object(n.useContext)(h).event,Object(n.useState)("")),r=Object(u.a)(a,2),s=r[0],l=r[1],b=Object(n.useState)(""),x=Object(u.a)(b,2),p=x[0],v=x[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),g=f[0],N=f[1];Object(n.useEffect)((function(){(function(){var e=Object(o.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/".concat(t));case 2:c=e.sent,console.log(c.data.data),l(c.data.data.event.name),v(c.data.data.event.location),N(c.data.data.event.price_range);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=function(){var e=Object(o.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d.put("/".concat(t),{name:s,location:p,price_range:g});case 3:e.sent,c("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{action:"",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{value:s,onChange:function(e){return l(e.target.value)},id:"name",className:"form-control",type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Location"}),Object(O.jsx)("input",{value:p,onChange:function(e){return v(e.target.value)},id:"location",className:"form-control",type:"text"})]}),Object(O.jsx)("label",{htmlFor:"price_range",children:"Price range"}),Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)("select",{value:g,onChange:function(e){return N(e.target.value)},className:"custom-select my-1 mr-sm-2",children:[Object(O.jsx)("option",{disabled:!0,children:"Price Range"}),Object(O.jsx)("option",{value:"1",children:"$"}),Object(O.jsx)("option",{value:"2",children:"$$"}),Object(O.jsx)("option",{value:"3",children:"$$$"}),Object(O.jsx)("option",{value:"4",children:"$$$$"}),Object(O.jsx)("option",{value:"5",children:"$$$$$"})]})}),Object(O.jsx)("button",{type:"submit",onClick:w,className:"btn btn-primary",children:"Submit"})]})})},$=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:"text-center",children:" Update Event"}),Object(O.jsx)(w,{})]})},y=function(){var e=Object(i.g)().id,t=Object(i.e)(),c=Object(i.f)(),a=Object(n.useState)(""),r=Object(u.a)(a,2),s=r[0],l=r[1],b=Object(n.useState)(""),x=Object(u.a)(b,2),h=x[0],p=x[1],v=Object(n.useState)("Rating"),m=Object(u.a)(v,2),f=m[0],g=m[1],N=function(){var n=Object(o.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,d.post("/".concat(e,"/addReview"),{name:s,review:h,rating:f});case 4:n.sent,c("/"),c(t.pathname),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mb-2",children:Object(O.jsxs)("form",{action:"",children:[Object(O.jsxs)("div",{className:"form-row",children:[Object(O.jsxs)("div",{className:"form-group col-8",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{value:s,onChange:function(e){return l(e.target.value)},id:"name",placeholder:"name",type:"text",className:"form-control"})]}),Object(O.jsxs)("div",{className:"form-group col-4",children:[Object(O.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(O.jsxs)("select",{value:f,onChange:function(e){return g(e.target.value)},id:"rating",className:"custom-select",children:[Object(O.jsx)("option",{disabled:!0,children:"Rating"}),Object(O.jsx)("option",{value:"1",children:"1"}),Object(O.jsx)("option",{value:"2",children:"2"}),Object(O.jsx)("option",{value:"3",children:"3"}),Object(O.jsx)("option",{value:"4",children:"4"}),Object(O.jsx)("option",{value:"5",children:"5"})]})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"Review",children:"Review"}),Object(O.jsx)("textarea",{value:h,onChange:function(e){return p(e.target.value)},id:"Review",className:"form-control"})]}),Object(O.jsx)("button",{type:"submit",onClick:N,className:"btn btn-primary",children:"Submit "})]})})},k=function(e){var t=e.reviews;return Object(O.jsx)("div",{className:"row row-cols-3 mb-2",children:t.map((function(e){return Object(O.jsxs)("div",{className:"card text-white bg-primary mb-3 mr-4",style:{maxWidth:"30%",marginRight:"6px"},children:[Object(O.jsxs)("div",{className:"card-header d-flex justify-content-between",children:[Object(O.jsx)("span",{children:e.name}),Object(O.jsx)("span",{children:Object(O.jsx)(m,{rating:e.rating})})]}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsx)("p",{className:"card-text",children:e.review})})]},e.id)}))})},C=function(){var e=Object(i.g)().id,t=Object(n.useContext)(h),c=t.selectedEvent,a=t.setSelectedEvent;return Object(n.useEffect)((function(){(function(){var t=Object(o.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.get("/".concat(e));case 3:c=t.sent,a(c.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(O.jsx)("div",{children:c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center display-1 text-capitalize",children:c.event.name}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)(m,{rating:c.event.average_rating}),Object(O.jsx)("span",{className:"text-warning ml-1",children:c.event.count?"(".concat(c.event.count,")"):"(0)"})]}),Object(O.jsx)("div",{className:"mt-3",children:Object(O.jsx)(k,{reviews:c.reviews})}),Object(O.jsx)(y,{})]})})},S=function(){return Object(O.jsx)(p,{children:Object(O.jsx)(s.a,{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{path:"/",element:Object(O.jsx)(N,{})}),Object(O.jsx)(i.a,{path:"/events/:id/update",element:Object(O.jsx)($,{})}),Object(O.jsx)(i.a,{path:"/events/:id",element:Object(O.jsx)(C,{})})]})})})})};r.a.render(Object(O.jsx)(S,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.faee178f.chunk.js.map