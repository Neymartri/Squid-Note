{"ast":null,"code":"import _regeneratorRuntime from\"/Users/EthanTran/Desktop/Squid-Note/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/EthanTran/Desktop/Squid-Note/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/EthanTran/Desktop/Squid-Note/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{useNavigate,useParams}from'react-router';import EventFinder from'../apis/EventFinder';import{EventsContext}from'../context/EventsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateEvent=function UpdateEvent(props){var _useParams=useParams(),id=_useParams.id;// navigate user back to homepage after updating event info\nvar navigate=useNavigate();var _useContext=useContext(EventsContext),event=_useContext.event;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),priceRange=_useState6[0],setPriceRange=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return EventFinder.get(\"/\".concat(id));case 2:response=_context.sent;console.log(response.data.data);setName(response.data.data.event.name);setLocation(response.data.data.event.location);setPriceRange(response.data.data.event.price_range);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);//handle submit function to update event via api\nvar handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var updateEvent;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return EventFinder.put(\"/\".concat(id),{name:name,location:location,price_range:priceRange});case 3:updateEvent=_context2.sent;navigate(\"/\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",className:\"form-control\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{value:location,onChange:function onChange(e){return setLocation(e.target.value);},id:\"location\",className:\"form-control\",type:\"text\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price_range\",children:\"Price range\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"select\",{value:priceRange,onChange:function onChange(e){return setPriceRange(e.target.value);},className:\"custom-select my-1 mr-sm-2\",children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"Price Range\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"$$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"$$$$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"$$$$$\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"btn btn-primary\",children:\"Submit\"})]})});};export default UpdateEvent;","map":{"version":3,"sources":["/Users/EthanTran/Desktop/Squid-Note/src/components/UpdateEvent.jsx"],"names":["React","useContext","useEffect","useState","useNavigate","useParams","EventFinder","EventsContext","UpdateEvent","props","id","navigate","event","name","setName","location","setLocation","priceRange","setPriceRange","fetchData","get","response","console","log","data","price_range","handleSubmit","e","preventDefault","put","updateEvent","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { useNavigate, useParams } from 'react-router';\nimport EventFinder from '../apis/EventFinder';\nimport { EventsContext } from '../context/EventsContext';\n\nconst UpdateEvent = (props) => {\n    const {id} = useParams();\n    // navigate user back to homepage after updating event info\n    let navigate = useNavigate();\n    const { event } = useContext(EventsContext);\n    const [name, setName] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [priceRange, setPriceRange] = useState(\"\");\n\n    useEffect(() => {\n        const fetchData = async() => {\n            const response = await EventFinder.get(`/${id}`)\n            console.log(response.data.data) \n            setName(response.data.data.event.name)\n            setLocation(response.data.data.event.location)\n            setPriceRange(response.data.data.event.price_range)\n        };\n\n        fetchData()\n    }, []);\n\n    //handle submit function to update event via api\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        const updateEvent = await EventFinder.put(`/${id}`, {\n            name,\n            location,\n            price_range: priceRange,\n        });\n        navigate(\"/\");\n    };\n\n    return (\n        <div>\n            <form action=\"\">\n              <div className=\"form-group\">\n                  <label htmlFor=\"name\">Name</label>\n                  <input value = {name} onChange={e => setName(e.target.value)} id=\"name\" className=\"form-control\" type=\"text\"/>\n              </div>\n\n              <div className=\"form-group\">\n                  <label htmlFor=\"name\">Location</label>\n                  <input value = {location} onChange={e => setLocation(e.target.value)} id=\"location\" className=\"form-control\" type=\"text\"/>\n              </div>\n              \n              <label htmlFor=\"price_range\">Price range</label>\n              <div className=\"col\">\n                        <select value = {priceRange} \n                        onChange={e => setPriceRange(e.target.value)} \n                        className= \"custom-select my-1 mr-sm-2\">\n                            <option disabled>Price Range</option>\n                            <option value=\"1\">$</option>\n                            <option value=\"2\">$$</option>\n                            <option value=\"3\">$$$</option>\n                            <option value=\"4\">$$$$</option>\n                            <option value=\"5\">$$$$$</option>\n                        </select>\n                     </div>\n                     <button type = \"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    );\n};\n\nexport default UpdateEvent;\n"]},"metadata":{},"sourceType":"module"}